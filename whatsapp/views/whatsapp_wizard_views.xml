<?xml version="1.0" encoding="UTF-8"?>
<odoo>
    <data>
        
        <!-- WhatsApp Send Message Wizard Form View -->
        <record id="whatsapp_send_message_wizard_form" model="ir.ui.view">
            <field name="name">whatsapp.send.message.wizard.form</field>
            <field name="model">whatsapp.send.message</field>
            <field name="arch" type="xml">
                <form string="Send WhatsApp Message">
                    <sheet>
                        <group>
                            <group>
                                <field name="account_id" required="1"/>
                                <field name="message_type"/>
                                <field name="template_id" domain="[('account_id', '=', account_id), ('template_type', '=', message_type), ('active', '=', True)]" invisible="[('template_id', '=', False)]"/>
                                <!-- <field name="use_template"/> -->
                            </group>
                            <group>
                                <!-- <field name="send_to" required="1"/> -->
                                <!-- <field name="contact_ids" invisible="[('send_to', '!=', 'contacts')]" required="[('send_to', '=', 'contacts')]"/>
                                <field name="group_ids" invisible="[('send_to', '!=', 'groups')]" required="[('send_to', '=', 'groups')]"/>
                                <field name="phone_numbers" invisible="[('send_to', '!=', 'numbers')]" required="[('send_to', '=', 'numbers')]"/> -->
                            </group>
                        </group>
                        
                        <group string="Message Content">
                            <field name="message" widget="text" required="1" placeholder="Enter your message here..."/>
                            <!-- <field name="attachment_ids" widget="many2many_binary" invisible="[('message_type', '!=', 'document')]"/> -->
                            <!-- <field name="media_url" invisible="[('message_type', 'not in', ['image', 'video', 'audio'])]"/> -->
                        </group>
                        
                        <group string="Options">
                            <group>
                                <field name="schedule_send"/>
                                <field name="schedule_date" invisible="[('schedule_send', '=', False)]" required="[('schedule_send', '=', True)]"/>
                                <!-- <field name="delay_between_messages"/> -->
                            </group>
                            <group>
                                <!-- <field name="track_delivery"/> -->
                                <!-- <field name="track_read"/> -->
                                <!-- <field name="create_activity"/> -->
                            </group>
                        </group>
                        
                        <group string="Preview" invisible="[('message', '=', False)]">
                            <!-- <field name="preview" widget="text" readonly="1"/> -->
                        </group>
                    </sheet>
                    
                    <footer>
                        <!-- <button name="action_send_message" type="object" string="Send Message" class="btn-primary"/>
                        <button name="action_schedule_message" type="object" string="Schedule Message" class="btn-secondary" invisible="[('schedule_send', '=', False)]"/> -->
                        <button name="action_preview" type="object" string="Preview" class="btn-secondary"/>
                        <button string="Cancel" class="btn-default" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        
        <!-- WhatsApp Send Message Wizard Action -->
        <record id="whatsapp_send_message_wizard_action" model="ir.actions.act_window">
            <field name="name">Send WhatsApp Message</field>
            <field name="res_model">whatsapp.send.message</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="view_id" ref="whatsapp_send_message_wizard_form"/>
        </record>
        
        <!-- WhatsApp Bulk Message Wizard Form View -->
        <record id="whatsapp_bulk_message_wizard_form" model="ir.ui.view">
            <field name="name">whatsapp.bulk.message.wizard.form</field>
            <field name="model">whatsapp.bulk.message</field>
            <field name="arch" type="xml">
                <form string="Send Bulk WhatsApp Messages">
                    <sheet>
                        <group>
                            <group>
                                <field name="account_id" required="1"/>
                                <field name="message_type"/>
                                <field name="template_id" domain="[('account_id', '=', account_id), ('template_type', '=', message_type), ('active', '=', True)]"/>
                            </group>
                            <group>
                                <field name="recipient_type" required="1"/>
                                <field name="contact_ids" invisible="[('recipient_type', '!=', 'contacts')]" required="[('recipient_type', '=', 'contacts')]"/>
                                <!-- <field name="group_ids" invisible="[('recipient_type', '!=', 'groups')]" required="[('recipient_type', '=', 'groups')]"/> -->
                                <field name="partner_ids" invisible="[('recipient_type', '!=', 'partners')]" required="[('recipient_type', '=', 'partners')]"/>
                            </group>
                        </group>
                        
                        <group string="Message Content">
                            <field name="message" widget="text" required="1" placeholder="Enter your message here..."/>
                            <!-- <field name="attachment_ids" widget="many2many_binary" invisible="[('message_type', '!=', 'document')]"/> -->
                        </group>
                        
                        <group string="Personalization">
                            <!-- <field name="personalize_messages"/>
                            <field name="personalization_fields" invisible="[('personalize_messages', '=', False)]"/> -->
                        </group>
                        
                        <group string="Scheduling">
                            <group>
                                <field name="schedule_send"/>
                                <field name="schedule_date" invisible="[('schedule_send', '=', False)]" required="[('schedule_send', '=', True)]"/>
                                <!-- <field name="delay_between_messages"/> -->
                            </group>
                            <group>
                                <!-- <field name="batch_size"/> -->
                                <!-- <field name="batch_delay"/> -->
                            </group>
                        </group>
                        
                        <group string="Options">
                            <group>
                                <!-- <field name="track_delivery"/> -->
                                <!-- <field name="track_read"/> -->
                                <!-- <field name="create_activity"/> -->
                            </group>
                            <group>
                                <!-- <field name="skip_duplicates"/> -->
                                <!-- <field name="skip_blocked"/> -->
                                <!-- <field name="test_mode"/> -->
                            </group>
                        </group>
                        
                        <group string="Recipients Summary">
                            <!-- <field name="recipient_count" readonly="1"/> -->
                            <!-- <field name="estimated_time" readonly="1"/> -->
                            <field name="estimated_cost" readonly="1"/>
                        </group>
                    </sheet>
                    
                    <footer>
                        <!-- <button name="action_send_bulk_message" type="object" string="Send Messages" class="btn-primary"/> -->
                        <!-- <button name="action_schedule_bulk_message" type="object" string="Schedule Messages" class="btn-secondary" invisible="[('schedule_send', '=', False)]"/> -->
                        <!-- <button name="action_test_message" type="object" string="Test Message" class="btn-secondary"/> -->
                        <button string="Cancel" class="btn-default" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        
        <!-- WhatsApp Bulk Message Wizard Action -->
        <record id="whatsapp_bulk_message_wizard_action" model="ir.actions.act_window">
            <field name="name">Send Bulk WhatsApp Messages</field>
            <field name="res_model">whatsapp.bulk.message</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="view_id" ref="whatsapp_bulk_message_wizard_form"/>
        </record>
        
        <!-- WhatsApp Import Contacts Wizard Form View -->
        <record id="whatsapp_import_contacts_wizard_form" model="ir.ui.view">
            <field name="name">whatsapp.import.contacts.wizard.form</field>
            <field name="model">whatsapp.import.contacts</field>
            <field name="arch" type="xml">
                <form string="Import WhatsApp Contacts">
                    <sheet>
                        <group>
                            <field name="account_id" required="1"/>
                            <field name="import_method" required="1"/>
                        </group>
                        
                        <group string="CSV Import" invisible="[('import_method', '!=', 'csv')]">
                            <field name="csv_file" required="[('import_method', '=', 'csv')]"/>
                            <field name="csv_filename" invisible="1"/>
                            <field name="csv_delimiter"/>
                            <button name="action_download_template" type="object" string="Download Template" class="btn-link"/>
                        </group>
                        
                        <group string="Manual Entry" invisible="[('import_method', '!=', 'manual')]">
                            <field name="manual_contacts" widget="text" placeholder="Enter contacts (one per line): Name, Phone Number" required="[('import_method', '=', 'manual')]"/>
                        </group>
                        
                        <group string="Options">
                            <group>
                                <field name="create_partners"/>
                                <field name="update_existing"/>
                                <field name="skip_duplicates"/>
                            </group>
                        </group>
                        
                        <group string="Import Results" invisible="[('imported_count', '=', 0)]">>
                            <group>
                                <field name="imported_count" readonly="1"/>
                                <field name="updated_count" readonly="1"/>
                            </group>
                            <group>
                                <field name="skipped_count" readonly="1"/>
                                <field name="error_count" readonly="1"/>
                            </group>
                            <field name="import_log" widget="text" readonly="1" invisible="[('import_log', '=', False)]"/>
                        </group>
                    </sheet>
                    
                    <footer>
                        <button name="action_import_contacts" type="object" string="Import Contacts" class="btn-primary"/>
                        <button string="Cancel" class="btn-default" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        
        <!-- WhatsApp Import Contacts Wizard Action -->
        <record id="whatsapp_import_contacts_wizard_action" model="ir.actions.act_window">
            <field name="name">Import WhatsApp Contacts</field>
            <field name="res_model">whatsapp.import.contacts</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="view_id" ref="whatsapp_import_contacts_wizard_form"/>
        </record>
        
        <!-- WhatsApp Export Messages Wizard Form View -->
        <record id="whatsapp_export_messages_wizard_form" model="ir.ui.view">
            <field name="name">whatsapp.export.messages.wizard.form</field>
            <field name="model">whatsapp.export.messages</field>
            <field name="arch" type="xml">
                <form string="Export WhatsApp Messages">
                    <sheet>
                        <group>
                            <group>
                                <field name="account_id" required="1"/>
                                <field name="contact_id" domain="[('account_id', '=', account_id)]"/>
                                <field name="group_id" domain="[('account_id', '=', account_id)]"/>
                            </group>
                            <group>
                                <field name="date_from" required="1"/>
                                <field name="date_to" required="1"/>
                            </group>
                        </group>
                        
                        <group string="Filters">
                            <group>
                                <field name="message_types" required="1"/>
                                <field name="export_format" required="1"/>
                            </group>
                        </group>
                        
                        <group string="Options">
                            <group>
                                <field name="include_media"/>
                                <field name="include_metadata"/>
                                <field name="group_by_date"/>
                            </group>
                        </group>
                    </sheet>
                    
                    <footer>
                        <button name="action_export_messages" type="object" string="Export Messages" class="btn-primary"/>
                        <button string="Cancel" class="btn-default" special="cancel"/>
                    </footer>
                </form>
            </field>
        </record>
        
        <!-- WhatsApp Export Messages Wizard Action -->
        <record id="whatsapp_export_messages_wizard_action" model="ir.actions.act_window">
            <field name="name">Export WhatsApp Messages</field>
            <field name="res_model">whatsapp.export.messages</field>
            <field name="view_mode">form</field>
            <field name="target">new</field>
            <field name="view_id" ref="whatsapp_export_messages_wizard_form"/>
        </record>
        
    </data>
</odoo>